<form class="{{cssClass}} flexcol" autocomplete="off">

    {{!-- Sheet Header --}}
    <header class="sheet-header">
        <div class="header-fields flexrow">
            <ul class="summary flexcol">
                <li class="container">
                    <span class="data-box">{{ localize "LM.ac.short" }}</span>
                    <img class="shield-img" src="/systems/lm/assets/shield.png" alt="CA" >
                    <input class="center" name="data.ac.value" type="text" value="{{data.ac.value}}" data-dtype="Number"/>
                </li>
                <li class="container">
                    <span class="data-box2">{{ localize "LM.hp.short"}}</span>
                    <img class="heart-img" src="/systems/lm/assets/heart_empty.png" alt="hp" >
                    <div>
                        <input class="center2" name="data.hp.value" type="text" value="{{data.hp.value}}" data-dtype="String"/>
                        <input class="center3" name="data.hp.max" type="text" value="{{data.hp.max}}" data-dtype="String"/>
                    </div>
                    <div class="hd-hp">
                        <a><span class="hd-roll">{{localize "LM.hd.short"}}</span></a>
                        <input name="data.hp.hd" type="text" value="{{data.hp.hd}}" data-dtype="String"/>
                    </div>
                </li>
               <li class="container2">
                    <span class="thac0-box">{{ localize "LM.combat.thac0"}}</span>
                    <input name="data.thac0.value" type="text" value="{{data.thac0.value}}" data-dtype="Number"/>
               </li> 
            </ul>
            <div class="head">
                <h1 class="charname"><input name="name" type="text" value="{{actor.name}}" placeholder="Name"/></h1>
                <img class="profile-img" src="{{actor.img}}" data-edit="img" title="{{actor.name}}" height="130" width="130"/>
                <div>
                  <label>{{ localize 'LM.description.aligment'}}</label>
                  <input class="aligment" type="text" name="data.aligment" value="{{data.aligment}}" data-dtype="String"/>
                </div>
              </div>
            <div class="monster-data">
              <ul>
                <li class="mov flexrow">
                  <label>{{ localize "LM.combat.movement"}}</label>
                  <input class="short" name="data.movement.base" type="text" value="{{ data.movement.base }}" data-dtype="Number">
                  <span>/</span>
                  <input name="data.movement.other" type="text" value="{{ data.movement.other }}" data-dtype="String" placeholder="{{ localize 'LM.movement.other' }}">
                </li>
              </ul>
              <ul>
                <li class="flexrow">
                  <div class="double">
                    <a class="moral-check" title="{{localize 'LM.retainer.moralcheck'}}">
                    <i class="fas fa-dice"></i></a>
                    <label>{{localize 'LM.retainer.moral'}}
                    </label>
                  </div>
                  <input class="header-input" name="data.retainer.moral" type="text" value="{{data.retainer.moral}}"/>
                </li>
                <li class="flexrow">
                  <div class="double">
                    <a class="surprise-check" title="{{localize 'LM.surprisename'}}">
                    <i class="fas fa-dice-d6"></i></a>
                    <label>{{localize 'LM.surprisename'}}
                    </label>
                  </div>
                  <input class="header-input" name="data.surprise.mod" type="text" value="{{data.surprise.mod}}"/>
                  <div class="double">
                    <a class="reaction-check" title="{{localize 'LM.reactionRoll'}}">
                    <i class="fas fa-dice"></i></a>
                    <label>{{localize 'LM.reaction'}}
                    </label>
                  </div>
                </li>
              </ul>
              <ul >
                <li class="encounter flexrow">
                  <label class= "data">{{localize 'LM.monster.appearing'}}
                  </label>
                    <input class="header-input2"  name="data.appearing.d" type="text" value="{{data.appearing.d}}"/>
                    <a class="appearing-check D" title="{{localize 'LM.monster.appearingLong'}}">
                    <i class="fas fa-dice"></i></a>
                    <input class="header-input2"  name="data.appearing.w" type="text" value="{{data.appearing.w}}"/>
                    <a class="appearing-check W" title="{{localize 'LM.monster.appearingLong'}}">
                    <i class="fas fa-dice"></i></a>
                </li>
                <li class="flexrow">
                  <label class= "data">{{localize 'LM.monster.xp'}}
                  </label>
                  <input class="header-inputl" name="data.xp" type="text" value="{{data.xp}}"/>
                  <a class="magicUser {{# if data.magicUser}}active{{/if}}"
                    title='{{localize "LM.data.magicUser"}}'>
                  <i class="far {{#if data.magicUser}}fa-times-circle{{else}}fa-circle{{/if}}"></i>
                  </a>
                <li class="treasure-table" title="{{localize 'LM.monster.treasure'}}">
                    <label><a class="roll treasure">{{localize 'LM.monster.treasure'}}</a></label>
                    <input class="header-input2" name="data.treasure.table" value="{{data.treasure.table}}">
                </li>
                </li>
              </ul>
          </div>
        </div>
    </header>
  
    {{!-- Sheet Tab Navigation --}}
    <nav class="sheet-tabs tabs" data-group="primary">
        <a class="item" data-tab="description">{{localize 'LM.category.attributes'}}</a>
        {{#if data.magicUser }}
        <a class="item" data-tab="spells">{{localize 'LM.category.spells'}}</a>
        {{/if}}
      </nav>

    {{!-- Sheet Body --}}
    <section class="sheet-body">

        {{!-- Biography Tab --}}
        <div class="tab biography" data-group="primary" data-tab="description">
            <div class="inventory notes">
                <div class="headabilities">{{localize "LM.actor.description"}}</div>
                <div class="resizable" data-editor-size="80">
                  {{editor content=data.biography target="data.biography"
                  button=true owner=owner editable=editable}}
                </div>
            </div>
            <div class="flexrow">
              <div class="saves">
                <h3 class="headsaves">{{ localize "LM.savesname" }}   
                  <a class="monsterSaves" title="{{localize 'LM.monsterSaves'}}"><i class="fas fa-book"></i></a>
                </h3>
                <ul class="saving">
                  <li class="save saving-throw" data-save="death">
                    <h4 class="save-name box-title">
                      <a>{{ localize "LM.saves.death.long" }}</a></h4>
                    <div class="save-value">
                      <span>{{data.saves.death.value}}</span>
                    </div>
                  </li>
                  <li class="save saving-throw" data-save="wand">
                    <h4 class="save-name box-title">
                      <a>{{ localize "LM.saves.wand.long" }}</a></h4>
                    <div class="save-value">
                      <span>{{data.saves.wand.value}}</span>
                    </div>
                  </li>
                  <li class="save saving-throw" data-save="paralysis">
                    <h4 class="save-name box-title">
                      <a>{{ localize "LM.saves.paralysis.long" }}</a></h4>
                    <div class="save-value">
                      <span>{{data.saves.paralysis.value}}</span>
                    </div>
                  </li>
                  <li class="save saving-throw" data-save="breath">
                    <h4 class="save-name box-title">
                      <a>{{ localize "LM.saves.breath.long" }}</a></h4>
                    <div class="save-value">
                      <span>{{data.saves.breath.value}}</span>
                    </div>
                  </li>
                  <li class="save saving-throw" data-save="spell">
                     <h4 class="save-name box-title">
                      <a>{{ localize "LM.saves.spell.long" }}</a></h4>
                     <div class="save-value">
                      <span>{{data.saves.spell.value}}</span>
                    </div>
                  </li>
                </ul>
              </div>
              <div>
                <ol class="items-list">
                  <li class="item header flexrow">
                    <div class="item-image"></div>
                    <div class="item-name">{{ localize "LM.skillsItems"}}</div>
                    <div class="item-controls">
                      <a class="item-control item-reset" title='{{localize "LM.items.resetAttacks"}}'><i
                        class="fas fa-sync"></i></a>
                        <a class="item-control item-create" title='{{localize "LM.Add"}}' data-type="choice"
                            data-choices="weapon,feature,armor,item,consumable"><i class="fas fa-plus"></i></a>
                    </div>
                  </li>
    
                  {{#each actor.weapons as |item id|}}
                     <li class="item flexrow" data-item-id="{{item._id}}">
                        <div class="item-name item-rollable flexrow">
                          <div class="item-image weapon" style="background-image: url({{item.img}})">
                          </div>
                          <a>
                            <h4 class="item-namep inhand" title="{{item.name}}">
                                {{item.name}}
                            </h4>
                          </a>
                        </div>
                        <div class="field-short counter flexrow">
                          <input type="text" value="{{item.data.counter.value}}" data-dtype="Number"
                          placeholder="0" data-field="value" title="{{localize 'LM.items.roundAttacks'}}">
                          /
                          <input type="text" value="{{item.data.counter.max}}" data-field="max"
                          data-dtype="Number" placeholder="0"
                          title="{{localize 'LM.items.roundAttacksMax'}}">
                        </div>
                        <div class="item-controls flexrow">
                          {{#if item.data.isDamage2 }}
                          <a class="dmg roll"
                          title='{{localize "LM.items.damage2"}}'><i class="fas fa-dice"></i>
                          </a>
                          <span class="item-dice">{{item.data.damage2}}</span>
                          {{else}}
                          <a class="dmg roll"
                          title='{{localize "LM.items.damage"}}'><i class="fas fa-dice"></i>
                          </a>
                          <span class="item-dice">{{item.data.damage}}</span>
                          {{/if}}
                          <a class="item-control item-dmg {{#unless item.data.isDamage2}}item-damage2{{/unless}}"
                              title='{{localize "LM.items.isDamage2"}}'>
                              <i class="fas fa-heartbeat"></i>
                          </a>
                          <a class="item-control item-edit" title="{{localize 'LM.edit'}}"><i class="fas fa-edit"></i></a>
                          <a class="item-control item-delete" title="{{localize 'LM.Del'}}"><i class="fas fa-trash"></i></a>
                        </div>
                      </li>
                  {{/each}}
                  {{#each actor.features as |item id|}}
                  <li class="item flexrow" data-item-id="{{item._id}}">
                    <div class="item-name item-rollable flexrow">
                      <div class="item-image skill" style="background-image: url({{item.img}})"></div>
                      <a>
                        <h4 title="{{item.name}}">
                          {{item.name}}
                        </h4>
                      </a>
                    </div>
                    <div class="item-controls">
                          <a class="item-control item-show" title='{{localize "LM.show"}}'><i class="fas fa-eye"></i></a>
                          <a class="item-control item-edit" title='{{localize "LM.edit"}}'><i class="fas fa-edit"></i></a>
                          <a class="item-control item-delete" title='{{localize "LM.Del"}}'><i class="fas fa-trash"></i></a>
                    </div>
                  </li>
                  {{/each}}
                  {{#each actor.armors as |item id|}}
                  <li class="item flexrow" data-item-id="{{item._id}}">
                      <div class="item-image"><img src="{{item.img}}" title="{{item.name}}" width="24" height="24"/></div>
                      <h4 class="item-name">{{item.name}}</h4>
                      <div class="field-short">
                        <span>{{localize "LM.ac.short"}}</span>
                        <span>{{item.data.ac}}</span>
                      </div>
                      <div class="item-controls">
                          <a class="item-control item-edit" title="{{localize 'LM.edit'}}"><i class="fas fa-edit"></i></a>
                          <a class="item-control item-delete" title="{{localize 'LM.Del'}}"><i class="fas fa-trash"></i></a>
                      </div>
                  </li>
                  {{/each}}
                  {{#each actor.gear as |item id|}}
                  <li class="item flexrow" data-item-id="{{item._id}}">
                      <div class="item-image"><img src="{{item.img}}" title="{{item.name}}" width="24" height="24"/></div>
                      <h4 class="item-name">{{item.name}}</h4>
                      <div class="field-short flexrow">
                        <label class="quantity minus" title="{{localize 'LM.items.sub'}}"><a class="fas
                          fa-minus-circle"></a></label>
                        <span>{{data.quantity}}</span>
                        <label class="quantity plus" title="{{localize 'LM.items.sum'}}" value="{{data.quantity}}"><a class="fas
                            fa-plus-circle"></a></label>
                      </div>
                      <div class="item-controls">
                        <a class="item-control item-edit" title="{{localize 'LM.edit'}}"><i class="fas fa-edit"></i></a>
                        <a class="item-control item-delete" title="{{localize 'LM.Del'}}"><i class="fas fa-trash"></i></a>
                      </div>
                  </li>
                  {{/each}}
                  {{#each actor.consumables as |item id|}}
                   <li class="item flexrow" data-item-id="{{item._id}}">
                       <div class="item-image consumable"><a><img src="{{item.img}}" title="{{item.name}}" width="24" height="24"/></a></div>
                       <h4 class="item-name">{{item.name}}</h4>
                       <div class="field-short flexrow">
                         <label class="quantity minus" title="{{localize 'LM.items.sub'}}"><a class="fas
                           fa-minus-circle"></a></label>
                         <span>{{data.quantity}}</span>
                         <label class="quantity plus" title="{{localize 'LM.items.sum'}}" value="{{data.quantity}}"><a class="fas
                             fa-plus-circle"></a></label>
                       </div>
                       <div class="item-controls">
                         <a class="item-control item-edit" title="{{localize 'LM.edit'}}"><i class="fas fa-edit"></i></a>
                         <a class="item-control item-delete" title="{{localize 'LM.Del'}}"><i class="fas fa-trash"></i></a>
                       </div>
                   </li>
                 {{/each}}
    
                </ol>
              </div>
            </div>
        </div>

        {{!-- Owned Spells Tab --}}
        {{#if data.magicUser}}
        <div class="tab spells" data-group="primary" data-tab="spells">
          <div class="item-titles flexrow">
            <div class="item-name">{{localize "LM.category.spells"}}</div>
            <div class="item-controls">
              <a class="item-control item-reset" title='{{localize "LM.spells.resetSlots"}}'><i class="fas fa-sync"></i></a>
              <a class="item-control item-create" data-type="spell" title="{{localize 'LM.Add'}}"><i
                  class="fa fa-plus"></i></a>
            </div>
          </div>
            {{#each actor.spells as |spellGroup lvl|}}
          <div>
            <li class="item-titles flexrow" style="line-height:15px">
              <div class="item-caret"><i class="fas fa-caret-down"></i> </div>
              <div class="item-name">{{localize "LM.spells.level"}} {{lvl}}</div>
              <div class="field-short">{{localize "LM.spells.cast"}}/{{localize 'LM.spells.memorized'}}</div>
              <div class="item-controls">
                <a class="item-control item-create" data-type="spell" data-lvl="{{lvl}}" title="{{localize 'LM.Add'}}"><i
                    class="fa fa-plus"></i></a>
              </div>
            </li>
            <ol class="item-list">
              {{#each spellGroup as |item|}}
              <li class="item-entry">
                <div class="item flexrow" data-item-id="{{item._id}}">
                  <div class="item-name item-rollable flexrow">
                    <div class="item-image castSpell" style="background-image: url({{item.img}})"></div>
                      <h4 title="{{item.name}}">
                        {{item.name~}}
                      </h4>
                  </div>
                  <div class="field-long memorize flexrow">
                    <span title="{{localize 'LM.spells.cast'}}">{{data.cast}}/</span>
                    <label class="quantity minusm" title="{{localize 'LM.items.sub'}}"><a class="fas
                        fa-minus-circle"></a></label>
                    <span title="{{localize 'LM.spells.memorized'}}">{{data.memorized}}</span>
                    <label class="quantity plusm" title="{{localize 'LM.items.sum'}}" value="{{data.memorized}}"><a class="fas
                          fa-plus-circle"></a></label>
                  </div>
                  <div class="item-controls">
                    {{#if ../../owner}}
                    <a class="item-control item-show" title='{{localize "LM.show"}}'><i class="fas fa-eye"></i></a>
                    <a class="item-control item-edit" title='{{localize "LM.edit"}}'><i class="fas fa-edit"></i></a>
                    <a class="item-control item-delete" title='{{localize "LM.Delete"}}'><i class="fas fa-trash"></i></a>
                    {{/if}}
                  </div>
                </div>
              </li>
              {{/each}}
            </ol>
          </div>
          {{/each}}
        </div>
        {{/if}}
  

    </section>
</form>

